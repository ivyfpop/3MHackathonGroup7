<!DOCTYPE html>
<html lang="en">

<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" href="favicon.ico">

    <title>Filtrete™ Pressure Drop Calculator</title>
	
    <!-- Bootstrap core CSS -->
	<link rel="stylesheet" href="bootstrap-4.3.1-dist/css/bootstrap.min.css">
</head>

  <body class="bg-light">

      <style>
          .button {
            padding: 15px 25px;
            font-size: 24px;
            text-align: center;
            cursor: pointer;
            outline: none;
            color: #fff;
            background-color: #4CAF50;
            border: none;
            border-radius: 15px;
            box-shadow: 0 9px #999;
          }
          
          .button:hover {background-color: #3e8e41}
          
          .button:active {
            background-color: #3e8e41;
            box-shadow: 0 5px #666;
            transform: translateY(4px);
          }

          .bigbutton {
            display: block;
            width: 100%;
            border: 10px;
            background-color: #ECD84A;
            padding: 14px 28px;
            font-size: 16px;
            cursor: pointer;
            text-align: center;
          }

          .bigbutton:active {
            background-color: rgb(157, 158, 64);
            box-shadow: 0 3px rgb(104, 96, 26);
            transform: translateY(4px);
          }

          
          </style>
    
    <div class="container">
      <div class="py-5 text-center">
        <img class="d-block mx-auto mb-4" src="index_files/Images/CutOutLogo.png" alt="" width="450" height="150">
      </div>
      <div class="text-center">
      <ul class="list-inline" >
        <li class="list-inline-item">
          <p><a href="https://www.filtrete.com/3M/en_US/filtrete/?utm_medium=redirect&utm_source=vanity-url&utm_campaign=www.filtrete.com/">
            <button class="btn btn-primary btn-lg btn-block" type="submit">Home</button>
          </a></p></li>
        <li class="list-inline-item">
          <p><a href="https://www.filtrete.com/3M/en_US/filtrete/lets-clear-the-air/"> 
            <button class="btn btn-primary btn-lg btn-block" type="submit">About Us</button>
          </a></p></li>
        <li class="list-inline-item">
          <p><a href="https://www.filtrete.com/3M/en_US/filtrete/products/smart-filter-technology/"> 
            <button class="btn btn-primary btn-lg btn-block" type="submit">Products</button>
          </a></p></li>
      </ul>
      </div>
      <p class="text-center" >
      <iframe width="560" height="315" src="https://www.youtube.com/embed/videoseries?list=PL7TRqcjMO4mtKxoCsAGso9ojHV9lFjoHz" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
      </p>

      <h2 class="text-center">
      Pressure Drop Calculator</h2>
      

      <div class="mb-3">
          <label for="length">Length</label>
          <input type="number" min="0" class="form-control" id="length" placeholder="0" required="">
      </div>
  
      <div class="mb-3">
        <label for="width">Width</label>
        <input type="number" class="form-control" id="width" placeholder="0" required="">
      </div>

      <div class="mb-3">
      <label for ="mpr">MPR</label>
      <select name="mpr" id="mpr">
        <option value="2800">2800</option>
        <option value="2400/2500">2400/2500</option>
        <option value="2200">2200</option>
        <option value="1900">1900</option>
        <option value="1500">1500</option>
        <option value="1200C">1200 Carbon</option>
        <option value="1200D">1200D</option>
        <option value="1200">1200</option>
        <option value="1085D">1085D</option>
        <option value="1085">1085</option>
        <option value="1000D">1000D</option>
        <option value="1000">1000</option>
        <option value="800C">800 CIRRUS</option>
        <option value="9800W">9800 Wire</option>
        <option value="600">600</option>
        <option value="500">500</option>
        <option value="300">300</option>
        <option value="100">100</option>
        <option value="FP">Flat Panel</option>
        <option value="CTF">Cut to fit</option>
      </select>
      </div>

      <button type="button" class="bigbutton" onclick="calculate()">Calculate!</button>

      <p id="display"></p>
      <div id="hide">
          <p id="a"></p>
          <p id="b"></p>
          <p id="c"></p>
          <p id="d"></p>
          <p id="e"></p>
      </div>

      <footer class="my-5 pt-5 text-muted text-center text-small">
        <p class="mb-1">© 2019 3M</p>
      </footer>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./index_files/jquery-3.2.1.slim.min.js.download" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
    <script src="./index_files/popper.min.js.download"></script>
    <script src="./index_files/bootstrap.min.js.download"></script>
    <script src="./index_files/holder.min.js.download"></script>
    <script>
      // Example starter JavaScript for disabling form submissions if there are invalid fields
      (function() {
        'use strict';

        window.addEventListener('load', function() {
          // Fetch all the forms we want to apply custom Bootstrap validation styles to
          var forms = document.getElementsByClassName('needs-validation');

          // Loop over them and prevent submission
          var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
              if (form.checkValidity() === false) {
                event.preventDefault();
                event.stopPropagation();
              }
              form.classList.add('was-validated');
            }, false);
          });
        }, false);
      })();

      $(document).ready(function() {
          $('#hide').hide();
      });

      $('.watched').change(function() {
          var length = $('#length').val();
          var width = $('#width').val();
          $('#hide').hide();
          if (length.length > 0 && width.length > 0) {
              calculate(length, width);
              $('#hide').show();
          }
      });

      function calculate(length, width) {
          var length = $('#length').val();
          var width = $('#width').val();
          var mpr = $('#mpr').val();
          var unknown = 0.00;

          switch (mpr) {
              case '2800':
                  unknown = .25;
                  break;
              case '2400/2500':
                  unknown = .23;
                  break;
              case '2200':
                  unknown = .20;
                  break;
              case '1900':
                  unknown = .18;
                  break;
              case '1500':
                  unknown = .21;
                  break;
              case '1200C':
                  unknown = .25;
                  break;
              case '1200D':
                  unknown = .23;
                  break;
              case '1200':
                  unknown = .19;
                  break;
              case '1085D':
                  unknown = .24;
                  break;
              case '1085':
                  unknown = .20;
                  break;
              case '1000D':
                  unknown = .24;
                  break;
              case '1000':
                  unknown = .22;
                  break;
              case '800C':
                  unknown = .22;
                  break;
              case '800W':
                  unknown = .21;
                  break;
              case '600':
                  unknown = .23;
                  break;
              case '500':
                  unknown = .18;
                  break;
              case '300':
                  unknown = .22;
                  break;
              case '100':
                  unknown = .22;
                  break;
              case 'FP':
                  unknown = .09;
                  break;
              case 'CTF':
                  unknown = .11;
                  break;
          }
          var valueFormula = 0.818 / (1 - (length * 1.0625 * 2 + (width - 2 * 1.0625) * 1.065 * 2) / (length * width)) * unknown;
          var cfmFormula = Math.round(Math.round(295 * length * width / 144) / 5) * 5;

          //=ROUNDUP(0.39*0.818/(1-($A15*1.0625*2+($B15-2*1.0625)*1.065*2)/($A15*$B15))*$I14, 2)
          var calcA = 0.39 * valueFormula;
          calcA = Math.ceil(calcA * 100) / 100;
          var cfmA = Math.round(.5 * cfmFormula / 5) * 5;

          //=ROUNDUP(0.68*0.818/(1-($A9*1.0625*2+($B9-2*1.0625)*1.065*2)/($A9*$B9))*$I9, 2)
          var calcB = 0.68 * valueFormula;
          calcB = Math.ceil(calcB * 100) / 100;
          var cfmB = Math.round(.75 * cfmFormula / 5) * 5;

          //=ROUND(0.818/(1-($A9*1.0625*2+($B9-2*1.0625)*1.065*2)/($A9*$B9))*$I9,2)
          var calcC = valueFormula;
          calcC = Math.round(calcC * 100) / 100;
          var cfmC = cfmFormula;

          //=ROUNDUP(1.4*0.818/(1-($A9*1.0625*2+($B9-2*1.0625)*1.065*2)/($A9*$B9))*$I9,2)
          var calcD = 1.4 * valueFormula;
          calcD = Math.ceil(calcD * 100) / 100;
          var cfmD = Math.round(1.25 * cfmFormula / 5) * 5;

          //=ROUNDUP(2.11*0.818/(1-($A9*1.0625*2+($B9-2*1.0625)*1.065*2)/($A9*$B9))*$I9,2)
          var calcE = 2.11 * valueFormula;
          calcE = Math.ceil(calcE * 100) / 100;
          var cfmE = Math.round(1.5 * cfmFormula / 5) * 5;

          $('#display').text("Length: " + length + "\nWidth: " + width + "\nMPR: " + mpr + " Unknown: " + unknown);
          $('#a').text("CFM " + cfmA + ": " + calcA);
          cfmColor('a', calcA);
          $('#b').text("CFM " + cfmB + ": " + calcB);
          cfmColor('b', calcB);
          $('#c').text("CFM " + cfmC + ": " + calcC);
          cfmColor('c', calcC);
          $('#d').text("CFM " + cfmD + ": " + calcD);
          cfmColor('d', calcD);
          $('#e').text("CFM " + cfmE + ": " + calcE);
          cfmColor('e', calcE);
          $('#hide').show();
      }

      function cfmColor(cfm, val) {
          if (val < .26) {
              $('#' + cfm).css('color', '#FF0000');
          } else if (val > .40) {
              $('#' + cfm).css('color', '#00FF00');
          }
      }
    </script>
</body></html>