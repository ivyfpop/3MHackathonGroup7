<!DOCTYPE html>
<html lang="en">

<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" href="./assets/images/favicon.ico">

    <title>Filtrete™ Pressure Drop Calculator</title>
	
    <!-- Bootstrap core CSS -->
	<link rel="stylesheet" href="./assets/css/bootstrap.min.css">
</head>

  <body class="bg-light" background="./assets/images/Background.png">

      <style>
          .button {
            padding: 15px 25px;
            font-size: 24px;
            text-align: center;
            cursor: pointer;
            outline: none;
            color: #fff;
            background-color: #4CAF50;
            border: none;
            border-radius: 15px;
            box-shadow: 0 9px #999;
          }
          
          .button:hover {background-color: #3e8e41}
          
          .button:active {
            background-color: #3e8e41;
            box-shadow: 0 5px #666;
            transform: translateY(4px);
          }

          table, tr, th, td {
            border-color: #333333;
            font-size: 2rem;
            padding: 5px;
          }          
          .video-container {
            position:relative;
            padding-bottom:56.25%;
            padding-top:30px;
            height:0;
            overflow:hidden;
          }

          .video-container iframe, .video-container object, .video-container embed {
            position:absolute;
            top:0;
            left:0;
            width:100%;
            height:100%;
          }

          .title {
            font-size: 3rem;
          }
          </style>
    
    <div class="container">
      <div class="py-5 text-center">
        <img class="d-block mx-auto mb-4" src="./assets/images/CutOutLogo.png" alt="" width="650" height="200">
      </div>
      <div class="text-center">
      <ul class="list-inline" >
        <li class="list-inline-item">
          <p><a href="https://www.filtrete.com/3M/en_US/filtrete/?utm_medium=redirect&utm_source=vanity-url&utm_campaign=www.filtrete.com/">
            <button class="btn btn-primary btn-lg btn-block" type="submit">Home</button>
          </a></p></li>
        <li class="list-inline-item">
          <p><a href="https://www.filtrete.com/3M/en_US/filtrete/lets-clear-the-air/"> 
            <button class="btn btn-primary btn-lg btn-block" type="submit">About Us</button>
          </a></p></li>
        <li class="list-inline-item">
          <p><a href="https://www.filtrete.com/3M/en_US/filtrete/products/smart-filter-technology/"> 
            <button class="btn btn-primary btn-lg btn-block" type="submit">Products</button>
          </a></p></li>
      </ul>
      </div>
      <p class="text-center" >
      <iframe width="560" height="315" src="https://www.youtube.com/embed/videoseries?list=PL7TRqcjMO4mtKxoCsAGso9ojHV9lFjoHz" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
      </p>

      <h2 class="text-center title">
      Pressure Drop Calculator</h2>
      

      <div class="mb-3">
          <label for="length">Length</label>
          <input type="number" min="1" max="100" class="form-control watched" id="length" value="16" required="">
      </div>
  
      <div class="mb-3">
        <label for="width">Width</label>
        <input type="number" min="1" max="100" class="form-control watched" id="width" value="25" required="">
      </div>

      <div class="mb-3">
      <label for ="mpr">MPR</label><br>
      <select name="mpr" id="mpr" class="watched">
	  	  	<option value="all" selected="selected">Show All</option>
			<option value=.25>2800</option>
			<option value=.23>2400/2500</option>
			<option value=.20>2200</option>
			<option value=.18>1900</option>
			<option value=.21>1500</option>
			<option value=.25>1200 Carbon</option>
			<option value=.23>1200D</option>
			<option value=.19>1200</option>
			<option value=.24>1085D</option>
			<option value=.20>1085</option>
			<option value=.24>1000D</option>
			<option value=.22>1000</option>
			<option value=.22>800 CIRRUS</option>
			<option value=.21>9800 Wire</option>
			<option value=.23>600</option>
			<option value=.18>500</option>
			<option value=.22>300</option>
			<option value=.22>100</option>
			<option value=.09>Flat Panel</option>
			<option value=.11>Cut to Fit</option>			
			<option value=.12>1550 DP 6"</option>
			<option value=.13>1550 DP 5"</option>
			<option value=.12>1200 DP 4"</option>
			<option value=.13>1550 DP 4"</option>
			<option value=.12>1200 DP 4"</option>
			<option value=.10>1000 DP 4"</option>
			<option value=.13>1550 DP 3.75"</option>
			<option value=.12>1200 DP 3.75"</option>
			<option value=.10>1000 DP 3.75"</option>
      </select>
      </div>

      <!-- <button type="button" class="bigbutton" onclick="calculate()">Calculate!</button> -->

      <div id="singleEntry">
          <table class="table mt-5">
              <tr class="border-top">
                <th class="border-top border-secondary">CFM</th>
                <th class="border-top border-secondary">Value</th>
              </tr>
              <tr>
                <td class="border-top border-secondary cfmA"></td>
                <td class="border-top border-secondary" id="calcA"></td>
              </tr>
              <tr>
                <td class="border-top border-secondary cfmB"></td>
                <td class="border-top border-secondary" id="calcB"></td>
              </tr>
              <tr>
                  <td class="border-top border-secondary cfmC"></td>
                  <td class="border-top border-secondary" id="calcC"></td>
              </tr>
              <tr>
                  <td class="border-top border-secondary cfmD"></td>
                  <td class="border-top border-secondary" id="calcD"></td>
              </tr>
              <tr>
                  <td class="border-top border-secondary cfmE"></td>
                  <td class="border-top border-secondary" id="calcE"></td>
                </tr>
          </table>
      </div>

	
      <div id="allEntry">
          <table id="allTable" class="table mt-5">
			        <tr>
                <th>CFM</th>
              </tr>
              <tr>
                  <td class="border-top border-secondary"></td>
                  <td class="border-top border-secondary cfmA"></td>
                  <td class="border-top border-secondary cfmB"></td>
                  <td class="border-top border-secondary cfmC"></td>
                  <td class="border-top border-secondary cfmD"></td>
                  <td class="border-top border-secondary cfmE"></td>
              </tr>
              <tr>
                  <td class="border-top border-secondary" id="calc1A"></td>
                  <td class="border-top border-secondary" id="calc1B"></td>
                  <td class="border-top border-secondary" id="calc1C"></td>
                  <td class="border-top border-secondary" id="calc1D"></td>
                  <td class="border-top border-secondary" id="calc1E"></td>
              </tr>
              <tr>
                  <td class="border-top border-secondary" id="calc2A"></td>
                  <td class="border-top border-secondary" id="calc2B"></td>
                  <td class="border-top border-secondary" id="calc2C"></td>
                  <td class="border-top border-secondary" id="calc2D"></td>
                  <td class="border-top border-secondary" id="calc2E"></td>
              </tr>
              <tr>
                  <td class="border-top border-secondary" id="calc3A"></td>
                  <td class="border-top border-secondary" id="calc3B"></td>
                  <td class="border-top border-secondary" id="calc3C"></td>
                  <td class="border-top border-secondary" id="calc3D"></td>
                  <td class="border-top border-secondary" id="calc3E"></td>
              </tr>
              <tr>
                  <td class="border-top border-secondary" id="calc4A"></td>
                  <td class="border-top border-secondary" id="calc4B"></td>
                  <td class="border-top border-secondary" id="calc4C"></td>
                  <td class="border-top border-secondary" id="calc4D"></td>
                  <td class="border-top border-secondary" id="calc4E"></td>
              </tr>
              <tr>
                  <td class="border-top border-secondary" id="calc5A"></td>
                  <td class="border-top border-secondary" id="calc5B"></td>
                  <td class="border-top border-secondary" id="calc5C"></td>
                  <td class="border-top border-secondary" id="calc5D"></td>
                  <td class="border-top border-secondary" id="calc5E"></td>
              </tr>
              <tr>
                  <td class="border-top border-secondary" id="calc6A"></td>
                  <td class="border-top border-secondary" id="calc6B"></td>
                  <td class="border-top border-secondary" id="calc6C"></td>
                  <td class="border-top border-secondary" id="calc6D"></td>
                  <td class="border-top border-secondary" id="calc6E"></td>
              </tr>
              <tr>
                  <td class="border-top border-secondary" id="calc7A"></td>
                  <td class="border-top border-secondary" id="calc7B"></td>
                  <td class="border-top border-secondary" id="calc7C"></td>
                  <td class="border-top border-secondary" id="calc7D"></td>
                  <td class="border-top border-secondary" id="calc7E"></td>
              </tr>
              <tr>
                  <td class="border-top border-secondary" id="calc8A"></td>
                  <td class="border-top border-secondary" id="calc8B"></td>
                  <td class="border-top border-secondary" id="calc8C"></td>
                  <td class="border-top border-secondary" id="calc8D"></td>
                  <td class="border-top border-secondary" id="calc8E"></td>
              </tr>
          </table>
      </div>


      <footer class="my-5 pt-5 text-muted text-center text-small">
        <p class="mb-1">© 2019 <img src="./assets/images/3M.png" alt="logo" width="33" height="30"></p>
      </footer>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./assets/jquery-3.4.1.slim.min.js"></script>
    <script>
      // Example starter JavaScript for disabling form submissions if there are invalid fields
      (function() {
        'use strict';

        window.addEventListener('load', function() {
          // Fetch all the forms we want to apply custom Bootstrap validation styles to
          var forms = document.getElementsByClassName('needs-validation');

          // Loop over them and prevent submission
          var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
              if (form.checkValidity() === false) {
                event.preventDefault();
                event.stopPropagation();
              }
              form.classList.add('was-validated');
            }, false);
          });
        }, false);
      })();

      $(document).ready(function() {
          $('#singleEntry').hide();
          var length = $('#length').val();
          var width = $('#width').val();
          cfmUpdate(length, width);
          $('#allEntry').show();
      });

      $('.watched').change(function() {
          var length = $('#length').val();
          var width = $('#width').val();
          $('#hide').hide();
          if (length.length > 0 && width.length > 0) {

            cfmUpdate(length, width);

            var mpr = $('#mpr').val();
              if (mpr == 'all') {
                calculateAll(length, width, mpr);
                $('#singleEntry').hide();
                $('#allEntry').show();
              } else {
                calculate(length, width, mpr);
                $('#allEntry').hide();
                $('#singleEntry').show();
              }
          }
      });

      function calculate(length, width, mpr) {
          var valueFormula = 0.818 / (1 - (length * 2.125 + (width - 2.125) * 2.125) / (length * width)) * mpr;

          //=ROUNDUP(0.39*0.818/(1-($A15*1.0625*2+($B15-2*1.0625)*1.065*2)/($A15*$B15))*$I14, 2)
          var calcA = Math.ceil(0.39 * valueFormula * 100) / 100;

          //=ROUNDUP(0.68*0.818/(1-($A9*1.0625*2+($B9-2*1.0625)*1.065*2)/($A9*$B9))*$I9, 2)
          var calcB = Math.ceil(0.68 * valueFormula * 100) / 100;

          //=ROUND(0.818/(1-($A9*1.0625*2+($B9-2*1.0625)*1.065*2)/($A9*$B9))*$I9,2)
          var calcC = Math.ceil(valueFormula * 100) / 100;

          //=ROUNDUP(1.4*0.818/(1-($A9*1.0625*2+($B9-2*1.0625)*1.065*2)/($A9*$B9))*$I9,2)
          var calcD = Math.ceil(1.4 * valueFormula * 100) / 100;

          //=ROUNDUP(2.11*0.818/(1-($A9*1.0625*2+($B9-2*1.0625)*1.065*2)/($A9*$B9))*$I9,2)
          var calcE = Math.ceil(2.11 * valueFormula * 100) / 100;

          $('#calcA').text(calcA);
          $('#calcB').text(calcB);
          $('#calcC').text(calcC);
          $('#calcD').text(calcD);
          $('#calcE').text(calcE);
          cfmColor('calcA', calcA);
          cfmColor('calcB', calcB);
          cfmColor('calcC', calcC);
          cfmColor('calcD', calcD);
          cfmColor('calcE', calcE);
      }

      function calculateAll(length, width, mpr) {
          $('#mpr').each(function(i) {
            
          });
      }

      function cfmColor(cfm, val) {
          if (val < .26) {
              $('#' + cfm).css('color', '#00FF00');
          } else if (val > .40) {
              $('#' + cfm).css('color', '#FF0000');
          }
      }

      function cfmUpdate(length, width) {
          var cfmFormula = Math.round(Math.round(295 * length * width / 144) / 5) * 5;
          var cfmA = Math.round(.5 * cfmFormula / 5) * 5;
          var cfmB = Math.round(.75 * cfmFormula / 5) * 5;
          var cfmC = cfmFormula;
          var cfmD = Math.round(1.25 * cfmFormula / 5) * 5;
          var cfmE = Math.round(Math.round(500 * length * width / 144) / 5) * 5;
          $('.cfmA').text(cfmA);
          $('.cfmB').text(cfmB);
          $('.cfmC').text(cfmC);
          $('.cfmD').text(cfmD);
          $('.cfmE').text(cfmE);
      }
    </script>
</body></html>